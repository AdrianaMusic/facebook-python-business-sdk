language: python
matrix:
  include:
    - python: 2.7
      env:
        - TOX_ENV=py27
    - python: 3.4
      env:
        - TOX_ENV=py34
    - python: 3.5
      env:
        - TOX_ENV=py35
    - python: 3.6
      env:
        - TOX_ENV=py36
    - python: 3.7
      env:
        - TOX_ENV=py37
      dist: xenial
      sudo: true
      
install:
  - pip install tox 
script:
  - tox -e $TOX_ENV

deploy:
      provider: script
      script: bash .travis/deploy.sh 
      on:
        all_branches: true
        python: 3.7
        env: TOX_ENV=py37
env:
  global:
    secure: "PjHUixnHrQUr25yDV4/hTMy2odhO3WiXchkquVV0YTF3BPCtbBjELOMlYpm/OOeKkrg4AvPSLfw4qtbifud9NpdMsrijZ98jNTEYTy7J5egLlJTy1fCKxwiPf5mO2eoHmjQqZVetu/JzLcptCbj9bci/yNtNyM/lSSegLVHsO04="
    # TEST
    secure: "jPtnsJW3K7mySqVeD57UzPwHwz8ztL5+FL7kNKVbWxzHlljSZFXqoAzugMG04T8/PmhqKOLn4oBliBqo7pRklaMk1LYUmnoJzmJ9ld+cJtdCAejJhbyzNNHuIygnEZOUIF91Pi1Vioud47/DeeqJeMzeck8fJROWmqQlPurQxlA="
